<html>
  <head>
    <title>States Game</title>
  </head>
  <body>
  	<h1>Welcome to the State Game!</h1>
  	<span>Type in all the states you know here:</span>
    <input type="text" id="state_text_field" placeholder="case sensitive" />
    <h3>Here are the states you've found so far</h3>
    <ul id="found_states">
    </ul>
    <script>
		var needed_states = ["Alabama", "Alaska", "Arizona", "Arkansas", "California", "Colorado", "Connecticut", "Delaware", "Florida", "Georgia", "Hawaii", "Idaho", "Illinois", "Indiana", "Iowa", "Kansas", "Kentucky", "Louisiana", "Maine", "Maryland", "Massachusetts", "Michigan", "Minnesota", "Mississippi", "Missouri", "Montana", "Nebraska", "Nevada", "New Hampshire", "New Jersey", "New Mexico", "New York", "North Carolina", "North Dakota", "Ohio", "Oklahoma", "Oregon", "Pennsylvania", "Rhode Island", "South Carolina", "South Dakota", "Tennessee", "Texas", "Utah", "Vermont", "Virgin Islands", "Virginia", "Washington", "West Virginia", "Wisconsin", "Wyoming"]
		// var needed_states = ["a", "b", "c"]
		var found_states = []

    	var inp = document.getElementById("state_text_field")
    	var f = document.getElementById("found_states")

    	inp.addEventListener('keyup', function(){
    		var entered_text = inp.value;
    		if(entered_text)
    		if(needed_states.indexOf(entered_text) > -1){
    			var i = needed_states.indexOf(entered_text)
    			var state = needed_states[i]
    			found_states.push(state) //add state to list of found states
    			addState(state)
    			needed_states.splice(i, 1); //remove from needed states

    			if(needed_states.length == 0){
    				window.clearTimeout(timeoutID)
    				alert("you win!")
    			}
    		}
    	}, false)

    	function addState(state){
    		var node = document.createElement("LI");
    		var textnode = document.createTextNode(state);
			node.appendChild(textnode); 
    		f.appendChild(node)
    		inp.value="";
    	}

    	// var timeoutID = window.setTimeout(function(){alert("You lost!")}, 5000);
    	var timeoutID = window.setTimeout(function(){alert("You lost!")}, 300000);
    </script>
  </body>
</html>
