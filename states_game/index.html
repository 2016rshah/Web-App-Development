<html>
  <head>
    <title>States Game</title>

    <style>
		body {
		    text-align:center;
		}
		li, ul{
			 list-style-type: none;
			 padding:0px;
		}
		input{
			text-align:center;
		}
	</style>
  </head>

  <body>
  	<h1>Welcome to the State Game!</h1>

  	<h3>Type in all the states you know here:</h3>
    <input type="text" id="state_text_field" placeholder="not case sensitive" />

    <h3>Your progress:</h3>
    <progress id="progress_bar" max="50" value="0"></progress>

    <h3>Here are the states you've found so far</h3>
    <ul id="found_states">
    </ul>

    <script>
		var needed_states = ["alabama", "alaska", "arizona", "arkansas", "california", "colorado", "connecticut", "delaware", "florida", "georgia", "hawaii", "idaho", "illinois", "indiana", "iowa", "kansas", "kentucky", "louisiana", "maine", "maryland", "massachusetts", "michigan", "minnesota", "mississippi", "missouri", "montana", "nebraska", "nevada", "new hampshire", "new jersey", "new mexico", "new york", "north carolina", "north dakota", "ohio", "oklahoma", "oregon", "pennsylvania", "rhode island", "south carolina", "south dakota", "tennessee", "texas", "utah", "vermont", "virgin islands", "virginia", "washington", "west virginia", "wisconsin", "wyoming"]
		// var needed_states = ["a", "b", "c"]
		var found_states = []

    	var inp = document.getElementById("state_text_field")
    	var f = document.getElementById("found_states")
    	var p = document.getElementById("progress_bar")

        var timeoutID;

    	inp.addEventListener('input', function(){

            //start up
            if(!timeoutID)
                timeoutID = window.setTimeout(function(){alert("You lost!")}, 300000);

            //actual text
    		var entered_text = inp.value.toLowerCase();
    		if(entered_text)
    		if(needed_states.indexOf(entered_text) > -1){
    			var i = needed_states.indexOf(entered_text)
    			var state = needed_states[i]
    			found_states.push(state) //add state to list of found states
    			addState(state)
    			needed_states.splice(i, 1); //remove from needed states

    			if(needed_states.length == 0){
    				window.clearTimeout(timeoutID)
    				alert("you win!")
    			}
    		}
    	}, false)

    	function addState(state){
    		p.value = found_states.length

    		var node = document.createElement("LI");
    		var textnode = document.createTextNode(state);
			node.appendChild(textnode); 
    		f.appendChild(node)
    		inp.value="";
    	}

    	// var timeoutID = window.setTimeout(function(){alert("You lost!")}, 5000);
        inp.focus();
		
    </script>
  </body>
</html>
